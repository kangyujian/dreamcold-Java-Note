# 常用类

## 字符串相关的类

### String类

- String类:代表字符串。Java 程序中的所有字符串字面值(如"abc" )都作为此类的实例实现。
- String是一个final类，代表不可变的字符序列。
- 字符串是常量，用双引号引起来表示。它们的值在创建之后不能更改。
- String对象的字符内容是存储在一个字符数组value[]中的。
- String声明为final的，不可被继承
- String实现了Serializable接口:表示字符串可以序列化
- 实现了Comparable接口可以比较大小
- String内部定义了final char[] value用于存储字符串数据
- String代表不可变的字符序列
  - 当对字符串重新赋值时，需要重写指定内存区域赋值，不能使用原有的value进行赋值。
  - 当对现有的字符串进行连接操作时，也需要重新指定内存区域赋值，不能在原有value上赋值
  - 当调用String的replace()方法修改指定字符或字符串时，也需要重新指定内存区域赋值,
- 通过字面量的方式(区别new)给-一个字符串赋值，此时的字符串值声明在字符事常量池中。
- 字符串常量池中是不会存储相同内容的字符串的。

<img src="images/image-20210124155658639.png" alt="image-20210124155658639" style="zoom:80%;" />

#### String的不可变性

样例一：

```java
package com.dreamcold.useful;

public class Demo01 {
    public static void main(String[] args) {
        String s1="abc";
        String s2="abc";

        System.out.println(s1==s2);//比较s1和s2的地址值
        s1="hello";
        System.out.println(s1);//hello
        System.out.println(s2);//abc
    }
}

```

效果：

![image-20210125212019661](images/image-20210125212019661.png)

- 原因：方法区中间有字符串常量池，两个变量同时指向该常量

<img src="images/image-20210125212316923.png" alt="image-20210125212316923" style="zoom:80%;" />

样例二：

```java
package com.dreamcold.useful;

public class Demo01 {
    public static void main(String[] args) {
        String s1="abc";
        String s2="abc";

        System.out.println(s1==s2);//比较s1和s2的地址值
        s1="hello";
        System.out.println(s1);//hello
        System.out.println(s2);//abc
        System.out.println("=========");
        String s3="abc";
        s3+="def";
        System.out.println("s3="+s3);
        System.out.println("s2="+s2);
    }
}
```

效果：s2并没有改变，得出结论当对现有的字符串进行连接操作时，也需要重新指定内存区域赋值，不能在原有value上赋值

![image-20210125213407753](images/image-20210125213407753.png)

样例三：

```java
package com.dreamcold.useful;

public class Demo03 {
    public static void main(String[] args) {
        String s1="abc";
        String s2=s1.replace('a','m');
        System.out.println("s1="+s1);
        System.out.println("s2="+s2);
    }
}
```

结果：当调用String的replace()方法修改指定字符或字符串时，也需要重新指定内存区域赋值,

![image-20210125213812719](images/image-20210125213812719.png)



#### String对象的创建

```java
String str = "he1lo";
//本质上.this.value = new char[0];
String s1 = new String();
//this.value = original. value;
String s2 = new String(String original);
//this.value = Arrays . copy0f(value, value. length) ;
String s3 = new String(char[] a);
String s4 = new String(char[] a,int startIndex,int count);
```

样例一：

```java
package com.dreamcold.useful;

public class Demo04 {
    public static void main(String[] args) {
        //通过字面量定义的方式:此时的s1和s2的数据javaEE声明在方法区中的字符串常量池中。
        String s1="javaEE";
        String s2="javaEE";
        //通过new +构造器的方式:此时的s3和Is4保存的地址值，是数据在堆空间中开辟空间保存的地址值
        String s3=new String("javaEE");
        String s4=new String("javaEE");
        System.out.println(s1==s2);
        System.out.println(s1==s3);
        System.out.println(s1==s4);
        System.out.println(s3==s4);
    }
}
```

效果：

![image-20210125214941940](images/image-20210125214941940.png)

样例二：

Person.java

```java
package com.dreamcold.useful;

public class Person {
    String name;
    int age;

    public Person(String name, int age) {
        this.name = name;
        this.age = age;
    }

    public Person() {
    }
}
```

Demo05.java

```java
package com.dreamcold.useful;

public class Demo05 {
    public static void main(String[] args) {
        Person p1=new Person("Tom",12);
        Person p2=new Person("Tom",12);
        System.out.println(p1.name.equals(p2.name));
        System.out.println(p1.name==p2.name);
    }
}
```

效果：

![image-20210125215628188](images/image-20210125215628188.png)

原因内存示意图：

<img src="images/image-20210125215713147.png" alt="image-20210125215713147" style="zoom:80%;" />

- 面试题: String s = new string( "abc");方式创建对象，在内存中创建了几个对象?
- 回答：两个，包含堆中new出来的对象，以及常量池中的对象



## JDK8之前日期相关的类



## JDK8中新的日期相关的API



## Java比较器



## System类



## Math类



## BigInteger和BigDecimal

