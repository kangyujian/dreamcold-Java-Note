# 并行和并发的概念

- 线程其实是由一系列的指令组成的
- 当线程中的所有的指令的执行完之后，整个线程就被执行完了
- 现在四个线程都被执行起来了，都希望CPU执行自己的代码
- 那么CPU有没有应对同时执行四个线程的能力呢？
- 答案是有的，操作系统有一个组件，叫做任务调度器，任务调度器就会把CPU的时间分给不同的的线程去使用，换句话说就是让四个线程轮流去使用CPU，比如先分配给线程1、之后依次分配给线程2、...、线程n
- 比如线程当时线程1还没有执行完，比如执行到第三行代码，之后再回到执行线程1的时候，它会从第三行代码后面开始执行
- 这种同一个时间面对多件事情的能力，我们就称作是并发的能力

| CPU  | 时间片 1 | 时间片 2 | 时间片 3 | 时间片 4 |
| ---- | -------- | -------- | -------- | -------- |
| core | 线程 1   | 线程 2   | 线程 3   | 线程 4   |

<img src="images/image-20210102224028549.png" alt="image-20210102224028549" style="zoom:50%;" />

单核 cpu 下，线程实际还是 串行执行 的。操作系统中有一个组件叫做任务调度器，将 cpu 的时间片（windows
下时间片最小约为 15 毫秒）分给不同的程序使用，只是由于 cpu 在线程间（时间片很短）的切换非常快，人类感
觉是 同时运行的 。总结为一句话就是： 微观串行，宏观并行 ，**一般会将这种 线程轮流使用 CPU 的做法称为并发， concurrent**

